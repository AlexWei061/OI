# 口胡的笔记

&emsp; 关于 $tarjan$ 算法，最难理解的部分应该就是里面关于 "追溯值" 也就是 $low$ 数组的内容和几个相关的判定定理，这里我用我自己的理解梳理一遍这部分内容。

&emsp; 符号规定： $sub(x)$ 表示以 $x$ 节点为根的搜索树中的子树。

## 无向图

### 定义

&emsp; 无向图中关于追溯值的定义是这样的：

> $low[x]$ 定义为一下节点中时间戳的最小值：
> 1. $sub(x)$ 中的节点
> 2. 通过一条不在搜索树上的边能到达 $sub(x)$ 的节点

&emsp; 注意这里的定义非常重要，关键是说清楚了 "追溯" 的含义也就是 $sub(x)$ 中和 通过一条不在搜索树上的边能到达 $sub(x)$ 的节点。

### 判定法则

&emsp; 关于割边的判定法则：若满足

$$ dfn[x] < low[y] $$

&emsp; 则说明 $(x, y)$ 这条边是一条割边。

&emsp; 现在我们画一张图来考虑证明一下这个神秘的东西：

![在这里插入图片描述](/Alex/OI/pic/Tarjan'.png)



&emsp; 现在我们看到上面那个椭圆 $G$ 表示已经搜索过的图，下方三角形 $T$ 表示的是搜索树，中间是 $x$ 和 $y$ 两个节点，并且满足 $dfn[x] < low[y]$ 的条件。我们现在来判断一下这三条有虚线的边分别存不存在。

&emsp; 首先看 $1$ 号边，首先 $1$ 号边是一条从已经搜过的图中连到搜索树中的边，也就说这条边的两个节点中在 $G$ 中的端点是定义中 "通过一条不在搜索树上的边能到达 $sub(x)$ 的节点" 。如果有这个点存在，那么 $y$ 的 $low$ 值肯定就会等于这条边中在 $G$ 中的端点的 $dfn$ 值，而且这个 $dfn$ 值必定小于 $x$ 的 $dfn$（因为那个点先被搜到），就不满足 $dfn[x] < low[y]$ 的前提条件了，所以 $1$ 号边肯定不存在。

&emsp; 同理，我们发现如果 $2$ 号边存在，那么就有 $dfn[x] = low[y]$，如果 $3$ 号边存在，那么就有 $dfn[x] < low[y]$（其实 $3$ 号边和 $1$ 号边是等价的）。所以我们发现这三条边（其实是三种边）都不可能存在，所以这个图中连接 $G$ 和 $T$ 的也就只有 $G \to x, x \to y, y \to T$ 这三条边了。那么 $x\to y$ 这条边就一定是割边。

&emsp; 关于割点的判定法则其实道理和这个也差不多，读者可以自行尝试证明一下 ~~其实就是懒得写了qwq~~。

## 有向图

&emsp; 其实有向图中强连通分量的判定法则的证明和无向图中两个判定法则的证明也是类似的，所以这里大家只需要把 $low$ 的定义弄清楚就可以了（证明可以自己下去证一下试试看）。

> $low[x]$ 定义为一下节点中时间戳的最小值：
> 1. 在栈中的点
> 2. 存在一条从 $sub(x)$ 中出发的有向边，以该节点为终点

&emsp; 然后，完结撒花！！！