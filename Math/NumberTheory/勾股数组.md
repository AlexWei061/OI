# 关于勾股数组
## 勾股定理
&emsp; 首先是勾股定理：
$$ a^2 + b^2 = c^2 $$

## 勾股数组的定义
&emsp; 然后是勾股数组：一个正整数三元组：$(a, b, c)$，满足 $a^2 + b^2  = c^2$，那么这个三元组就是一个勾股数组 ~~（是有够简单的了）~~。非常简单，是不是？但是如果你想 ~~装逼~~ 让别人觉得你很厉害的话，那么你可以把这玩意儿叫做 "毕达哥拉斯三元组" ~~（逼格瞬间就上来了有没有 qwq）~~。

&emsp; 我们来举几个例子：

|a|b|c|
-|-|-
|3|4|5|
|5|12|13|
|6|8|10|
|7|24|25|
|8|15|17|
|$\vdots$|$\vdots$|$\vdots$|

&emsp; 其中我们看着 $(3, 4, 5)$ 和 $(6, 8, 10)$ 这两个 **毕达哥拉斯三元组** ，我们会发现这俩玩意儿就是每个对应的数差了一倍 ~~（为什么要说这个呢，因为要强行引出本原勾股数组）~~。然后根据我们在初中学过的数学知识，一个勾股数组中的每个数都乘上一个整数然后得到一个新的三元组，这个三元组显然也是勾股数组。

## 本原勾股数组
&emsp; 于是，我们假设有一个勾股数组 $(a, b, c)$ ，它当中的三个数满足 $gcd(a, b, c) = 1$，那么就称这个勾股数组为 **本原勾股数组**。像这样，我们如果找到了一个本原勾股数组我们就可以对这个数组的每个数乘上一个数 $k$ 就能得到无穷个勾股数组。

&emsp; 还是来举几个例子 ~~（其实就是把上面那个表里面的 (6, 8, 10) 去掉剩下的部分）~~：
|a|b|c|
-|-|-
|3|4|5|
|5|12|13|
|7|24|25|
|8|15|17|
|$\vdots$|$\vdots$|$\vdots$|

&emsp; 然后我们会发现一个比较好玩的性质：一个本原勾股数组 $(a, b, c)$ 的前两个数 $a$ 和 $b$ 一定是一个奇数，一个偶数。我们现在来看看怎么证明这个性质：

&emsp; 反证法，假设 $a, b$ 都是偶数，那么 $c = \sqrt{a^2 + b^2}$ 一定是一个偶数，那么 $a, b, c$ 一定有一个公因数 2，那就不满足 $(a, b, c)$ 是一个本原勾股数组的定义了。所以 $a, b$ 不可能同为偶数。再假设 $a, b$ 都是奇数，那么 $c = \sqrt{a^2 + b^2}$ 一定也是一个偶数。这里就不那么显然了，所以我们这样处理：设 $a = 2x$，$b = 2y$，$c = 2z +1$。其中 $x, y, z \in N_+$，那么：
$$
\begin{aligned}
& \frac{a^2 + b^2}{2} = \frac{(2x)^2 + (2y)^2}{2} = 2x^2 + 2y^2 \\
& \frac{c^2}{2} = \frac{(2z+1)^2}{2} = \frac{4z^2 + 4z + 1}{2}
\end{aligned}
$$

&emsp; 这样写出来就很显然能看出来矛盾了，如果 $a^2 + b^2 = c^2$，那么 $2x^2 + 2y^2 = \frac{4z^2 + 4z + 1}{2} \quad z, y, z, \in N_+$，这显然是矛盾的，因为等号左边显然是一个偶数，等号的右边显然不是一个整数。所以 $a, b$ 不可能同时为奇数。

## 怎样构造勾股数组

### 几个小性质
&emsp; 从上面的叙述中我们可以知道，只要我们找到本原勾股数组就能构造出其他所有的勾股数组，所以我们考虑如何构造本原勾股数组。

&emsp; 在构造本原勾股数组之前，我们再来看看通过我们上面推导出来的性质能不能推导出其他的一些性质。我们来考虑一个本原勾股数组 $(a, b, c)$，假设 $a$ 和 $c$ 是奇数，$b$ 是偶数，根据定义：
$$ a^2 + b^2 = c^2 \rightarrow a^2 = c^2 - b^2 = (c+b)(c-b) $$

&emsp; 我们会发现 $gcd((c+b), (c-b)) = 1$，我们来考虑证明一下这个性质：

&emsp; 设
$$ d \mid (c+b) \wedge d \mid (c-b) $$

&emsp; 这样我们就有：
$$
\begin{aligned}
& d \mid (c+b+c-b) \rightarrow d \mid 2c \\
& d \mid (c+b-c+b) \rightarrow d \mid 2b
\end{aligned}
$$

&emsp; 我们又有：
$$
\begin{aligned}
& d^2 \mid (c+b)(c-b) \rightarrow d^2 \mid a^2 \\
& 也就是说 \quad d \mid a
\end{aligned}
$$

&emsp; 因为 $c$ 是奇数 $b$ 是偶数，所以：
$$ c \equiv 0 \pmod 2 \wedge b \equiv 1\pmod 2 \rightarrow (c+b) \equiv 1\pmod 2 $$

&emsp; 又因为 $d \mid (c+b)$，所以 $d$ 不可能是偶数。又因为 $d \mid 2c \wedge d \mid 2b$，所以：
$$ d \mid b \wedge d \mid c $$

&emsp; 然后：
$$
\begin{aligned}
& \because (d \mid a \wedge d \mid b \wedge d \mid c) \wedge gcd(a, b, c) = 1 \\
& \therefore d = 1
\end{aligned}
$$

&emsp; 我们也就证完了。

&emsp; 但是我们肯定不能满足与这个性质，我们的好奇心一定会要求我们来推导出更多的结论 qwq。所以我们继续推导，我们知道任何一个大于 1 的整数都可以表示成这样：
$$ a = \prod_{i=1}^n p_i^{\alpha_i} $$

&emsp; 如果对一个完全平方数 $a^2$ 进行质因数分解，我们就能得到：
$$ a^2 = \prod_{i=1}^n pi^{k_i} = \prod_{i=1}^{n} p_i^{{k'_i}^2} $$

&emsp; 所以我们知道，对于 $a^2$ 的所有 $k_i$，都有：
$$ k_i \equiv 0 \pmod 2 $$

&emsp; 又因为 $gcd((c+b), (c-b)) = 1$，所以 $p_1 \mid (c+b), p_1 \mid (c-b)$ 是不成立的。然后让我们来想象一下，我们能不能把 $a^2$ 拆成两个没有公因数的数，根据我们上面的证明，就很显然，这两个数就是 $(c+b)$ 和 $(c-b)$，然后我们考虑如何得到这两个数，我们举个例子，比如说我们拆 $15^2 = 3^2 \times 5^2$：

&emsp; 要注意的是，我们讨论的 $a, b, c \in N_+$，所以我们的拆分要满足 $c+b > c-b$。所以很显然的一种拆分的方法就是选一些小的质数的平方分给 $c-b$，在选一些稍微大一点的质数的平方给 $c+b$。就比如 $a^2 = 15^2$ 的拆分就可以拆成 $b+c = 5^2 = 25$， $b-c = 3^2 = 9$。

&emsp; 按照这种拆法，那么 $c+b$ 和 $c-b$ 一定就都是完全平方数，这也是一个重要的结论。

### 勾股数组定理
&emsp; 根据我们上面的推导，我们设 $s^2 = c+b$，$t^2 = c-b$，其中 $s > t$。然后顺理成章的，我们就得到了：
$$
\begin{aligned}
& b = \frac{s^2 - t^2}{2}\\
& c = \frac{s^2 + t^2}{2}
\end{aligned}
$$

&emsp; 然后我们就总结出了勾股数组定理：每一个本原勾股数组 $(a, b, c)$，其中 $a$ 是奇数，$b$ 是偶数，我们都能得到以下的公式：
$$ a = st，b = \frac{s^2 - t^2}{2}，c = \frac{s^2 + t^2}{2} $$

&emsp; 然后我们就惊奇的发现，我们已经会构造一组本原勾股数组了，就像这样，先找到一组 $(s, t)$，然后把勾股数组定理里面的公式一次代入就能带到一组本原勾股数组了。就比如说 $s = 3, t = 1$，那么我们就有： $a = st = 3$，$b = \frac{s^2-t^2}{2} = 4$，$c = \frac{s^2 + t^2}{2} = 5$，我们就构造出来了 $(3, 4, 5)$ 显然就是一组本原勾股数组的一个本原勾股数组。

&emsp; 然后... 就没有然后了，完结撒花！