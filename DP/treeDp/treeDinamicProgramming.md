# 树型动态规划

## 定义
&emsp; 给定一颗无根树，满足以下要素：

1. 有 N 个节点，N-1 条无向边
2. 任意两点有唯一路径，没有环，DFS 不会重复
3. 一个点至多有一个前趋，但可以有多个后续
4. 具有明显且严格的层数关系

&emsp; 若果在这种树上解决多阶段最优决策问题，可以考虑树型动态规划、

## 解决办法
### 一、判断是否是属性动态规划
&emsp; 判断数据结构是否为一棵树，然后是否符合动态规划的要求，即可以判断问题是否可以分为一些相关的子阶段，并且这些阶段对应着数据结构总的子树。

### 二、建树
&emsp; 根据数据量和题目要求选择适合的树的存储方式，如果节点小于 5000，我们可以使用邻接矩阵，如果更大可以采用邻接表。如果是二叉树或是需要多叉树转二叉树那我们可以采用两个一维数组 brother[] child[]，来存储。主要的建树过程是通过递归完成的。

### 三、写出树型 DP 的动态转移方程
&emsp; 通过观察父亲和孩子之间的关系来建立方程，树型 DP 的转移方程有两种方法。

1. 根到叶子 （~~不常用~~）
2. 叶子到根 根的子节点传递有用的信息给根。